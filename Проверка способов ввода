// Проверяем, как поведет себя программа если не дать ей файла в качестве аргумента.
#include <unistd.h>

int main(int argc, char *argv)
{
  char c;
  if (argc == 1)// Если аргументов не задано, то
  {
    int i;
    char *str;
    
    str = 0;
    i = 0;
    while(str[i] != $)
    {
      read(1, &c, 1);// Прочитать ввод символа с клавиатуры и
      write(1, &c, 1);// вывести эту букву на консоль.
    }
  else
    write (1, 'g', 1);
  return (0);
}// В результате теста все работает как ожидалось - при запуске ./a.out ничего не пишем в аргументы,
// программа переходит на новую строку и ждет ввода символа, а после его отображает.
